<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>S0tool.nl - Installation</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" type="image/x-icon" href="./assets/icon.ico">
  <meta name="description" content="Easily install and configure your S0tool for Home Assistant and ESPHome. Includes configurations for DSZ12D, LEM022SJ, and more.">
  <meta name="keywords"
    content="s0tool, watermeter, home assistant, esphome, s0 port, water counter, water, huizebruin watermeter, 5v NPN, Actaris, diy, Elster, Elster V100, esphome, home assistant, huizebruin, Itron, LJ12A3-4-Z/BX-5V, Maddalena, pcb, pulsteller, s0 kwh, s0tool, Sensus, slimme watermeter, tool, watermeter, watermeter home assistant, watermeter npn">
  <meta name="author" content="Huizebruin">
  <meta name="copyright" content="Huizebruin">
  <meta http-equiv="cache-control" content="no-cache">
  <meta property="og:title" content="S0tool.nl">
  <meta property="og:site_name" content="S0tool.nl">
  <meta property="og:url" content="https://s0tool.nl">
  <meta property="og:type" content="website">
  <meta property="og:description" content="Count your water use with the S0tool and Home Assistant and ESPHome.">
  <meta property="og:image" content="./assets/header.png">
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-9HB5QGY82J"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-9HB5QGY82J');
  </script>
  <script type="module" src="https://unpkg.com/esp-web-tools@10/dist/web/install-button.js?module"></script>
  <link rel="stylesheet" href="styles.css">

</head>

<body>
  <div id="navbar"></div>
  <div class="layout">
    <div id="sidebar"></div>
    <main>
      <header>
        <h1>S0tool Installation</h1>
        <p>Easily install and configure your S0tool for Home Assistant and ESPHome.</p>
      </header>
      <section id="installation-guide">
        <h2>Installation Guide</h2>
        <p>Before proceeding, ensure you have installed the necessary drivers for the Wemos D1 to communicate with your PC or laptop. Refer to the <a href="troubleshooting.html">troubleshooting page</a> for details.</p>
        <p>Connect the S0tool to your PC or laptop using a USB cable that supports both power and data transfer. Use the button below to install the <b>S0tool</b> firmware directly to your device via USB from your browser.</p>
      </section>

      <section id="installation-steps">
        <h2>Installation</h2>
        <p>Follow these steps to install the firmware on your S0tool:</p>
        <ol>
          <li>Click the blue connect button below; a pop-up window will appear with a list of available USB devices.</li>
          <li>Plug the USB cable into the ESP and connect it to your computer.</li>
          <li>Select the USB serial port and click Connect.</li>
          <li>Choose Install S0tool, then click Install.</li>
          <li>If the installation fails, hold down the boot button and try again.</li>
          <li>Once completed, click Next.</li>
        </ol>
        <p>After installation, connect the S0tool to your Wi-Fi network:</p>
        <ol>
          <li>Select your network from the list and enter your 2.4 GHz Wi-Fi credentials.</li>
          <li>Click Connect.</li>
        </ol>
        <p>Congratulations ðŸŽ‰ The S0tool is now connected to your network!</p>
      </section>

      <section id="standard-configurations">
        <h2>Standard Configurations</h2>
        <div class="config-grid">
          <div class="config-card">
            <img src="./assets/npn-kwh-s0.jpg" alt="S0tool Standard">
            <h5>S0tool Standard</h5>
            <p>Standard with watermeter (NPN) and kWh meter (50-100ms).</p>
            <input type="radio" name="type" value="s0tool-standard" checked id="standard-radio">
            <label for="standard-radio">Select</label>
          </div>
          <div class="config-card">
            <img src="./assets/npn.jpg" alt="S0tool Watermeter">
            <h5>S0tool Watermeter</h5>
            <p>Configuration for watermeter (NPN).</p>
            <input type="radio" name="type" value="s0tool-watermeter" id="watermeter-radio">
            <label for="watermeter-radio">Select</label>
          </div>
          <div class="config-card">
            <img src="./assets/kwh-s0.png" alt="S0tool kWh Meter">
            <h5>S0tool kWh Meter</h5>
            <p>Configuration for kWh meter with 50-100ms impulses.</p>
            <input type="radio" name="type" value="s0tool-kwh-puls" id="kwh-radio">
            <label for="kwh-radio">Select</label>
          </div>
        </div>
        <div class="connect-btn-wrapper">
          <esp-web-install-button></esp-web-install-button>
        </div>
        <div class="text-center">
          <button class="show-special-btn" id="show-special-btn" type="button">Show special configurations</button>
        </div>
      </section>

      <section id="special-configurations" class="hidden">
        <h2>Special Configurations</h2>
        <div class="config-grid">
          <div class="config-card">
            <img src="./assets/dsz12d.jpg" alt="S0tool DSZ12D Configuration">
            <h5>S0tool DSZ12D</h5>
            <p>Special configuration for DSZ12D meters.</p>
            <input type="radio" name="type" value="s0tool-dsz12d" id="dsz12d-radio">
            <label for="dsz12d-radio">Select</label>
          </div>
          <div class="config-card">
            <img src="./assets/lem022sj.jpg" alt="S0tool LEM022SJ Configuration">
            <h5>S0tool LEM022SJ</h5>
            <p>Special configuration for LEM022SJ meters with 400 impulses.</p>
            <input type="radio" name="type" value="s0tool-lem022sj" id="lem022sj-radio">
            <label for="lem022sj-radio">Select</label>
          </div>
          <div class="config-card">
            <img src="./assets/nopicturefound.png" alt="No image available for this configuration">
            <h5>S0tool Flux and Puls</h5>
            <p>Special configuration for flux and puls meters.</p>
            <input type="radio" name="type" value="s0tool-fluxandpuls" id="fluxandpuls-radio">
            <label for="fluxandpuls-radio">Select</label>
          </div>
          <div class="config-card">
            <img src="./assets/wsz15d32a.jpg" alt="S0tool wsz15d32a & water">
            <h5>S0tool wsz15d32a & water</h5>
            <p>Special configuration for wsz15d32a & water</p>
            <input type="radio" name="type" value="s0tool-wsz15d32a" id="wsz15d32a-radio">
            <label for="wsz15d32a-radio">Select</label>
          </div>
          <div class="config-card">
            <img src="./assets/sdm72d.jpg" alt="S0tool sdm72d & water">
            <h5>S0tool sdm72d & water</h5>
            <p>Special configuration for sdm72d & water</p>
            <input type="radio" name="type" value="s0tool-sdm72d" id="sdm72d-radio">
            <label for="sdm72d-radio">Select</label>
          </div>
          <div class="config-card">
            <img src="./assets/nopicturefound.png" alt="No image available for this configuration">
            <h5>S0tool s0-watermeter</h5>
            <p>Special configuration for s0-watermeter.</p>
            <input type="radio" name="type" value="s0tool-s0-watermeter" id="s0-watermeter-radio">
            <label for="s0-watermeter-radio">Select</label>
          </div>
          <div class="config-card">
            <img src="./assets/npn-kwh-s0.jpg" alt="S0tool puls water internal">
            <h5>S0tool puls water internal</h5>
            <p>Special for the kwh and watermeter(npn) with Internal resistor in the code<br>D2 & D5</p>
            <input type="radio" name="type" value="s0tool-puls-water-internal" id="puls-water-internal-radio">
            <label for="puls-water-internal-radio">Select</label>
          </div>
          <div class="config-card">
            <img src="./assets/nopicturefound.png" alt="No image available for this configuration">
            <h5>S0tool KWH and Water Test</h5>
            <p>Special configuration for testing KWH and water meters (NPN) with debug mode enabled on D2 & D5.</p>
            <input type="radio" name="type" value="s0tool-kwh-water-test" id="kwh-water-test-radio">
            <label for="kwh-water-test-radio">Select</label>
          </div>
          <div class="config-card">
            <img src="./assets/nopicturefound.png" alt="No image available for this configuration">
            <h5>S0tool standard-flux</h5>
            <p>s0tool-standard-flux sensor like the Dekaim Flussostato Acqua</p>
            <input type="radio" name="type" value="s0tool-standard-flux" id="standard-flux-radio">
            <label for="standard-flux-radio">Select</label>
          </div>
        </div>
        <div class="connect-btn-wrapper">
          <esp-web-install-button></esp-web-install-button>
        </div>
      </section>

      <section id="connect-ha">
        <h2>Connect to Home Assistant</h2>
        <h3>Option 1: During Firmware Installation</h3>
        <p>After setting up your Wi-Fi, you will see an option to add the S0tool to Home Assistant. Follow the link to configure it.</p>
        <h3>Option 2: Auto Discovery</h3>
        <p>If your Home Assistant instance is on the same network, the S0tool will be automatically discovered under Settings &gt; Devices &amp; Services.</p>
      </section>
    </main>
    <div id="footer"></div>
  </div>
  <script>
    // Navbar en sidebar includen
    fetch('navbar.html')
      .then(response => response.text())
      .then(html => document.getElementById('navbar').innerHTML = html);

    fetch('sidebar.html')
      .then(response => response.text())
      .then(html => document.getElementById('sidebar').innerHTML = html);

    fetch('footer.html')
      .then(response => response.text())
      .then(html => document.getElementById('footer').innerHTML = html);
  </script>
  <script src="./js/script.js"></script>
  <script>
    // Radio button manifest logic
    document.querySelectorAll('input[name="type"]').forEach((radio) =>
      radio.addEventListener("change", () => {
        const button = document.querySelector("esp-web-install-button");
        button.manifest = `./${radio.value}/manifest.json`;
      })
    );
    document.querySelector('input[name="type"]:checked').dispatchEvent(new Event("change"));

    // Show/hide specials
    document.getElementById('show-special-btn').addEventListener('click', function () {
      const specials = document.getElementById('special-configurations');
      specials.classList.toggle('hidden');
      this.textContent = specials.classList.contains('hidden') ? 'Show special configurations' : 'Hide special configurations';
      if (!specials.classList.contains('hidden')) {
        specials.scrollIntoView({ behavior: 'smooth' });
      }
    });
  </script>
</body>

</html>
