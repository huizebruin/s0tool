<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Diy or Buy - s0tool.nl</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" type="image/x-icon" href="./assets/icon.ico">
  <meta name="description" content="Count your water use with the S0tool and Home Assistant and ESPHome.">
  <meta name="keywords"
    content="s0tool, watermeter, home assistant, esphome, s0 port, water counter, water, huizebruin watermeter, 5v NPN, Actaris, diy, Elster, Elster V100, esphome, home assistant, huizebruin, Itron, LJ12A3-4-Z/BX-5V, Maddalena, pcb, pulsteller, s0 kwh, s0tool, Sensus, slimme watermeter, tool, watermeter, watermeter home assistant, watermeter npn ">
  <meta name="author" content="Huizebruin">
  <meta name="copyright" content="Huizebruin">
  <meta http-equiv="cache-control" content="no-cache">
  <meta property="og:title" content="S0tool.nl">
  <meta property="og:site_name" content="S0tool.nl">
  <meta property="og:url" content="https://s0tool.nl">
  <meta property="og:type" content="website">
  <meta property="og:description" content="Count your water use with the S0tool and Home Assistant and ESPHome.">
  <meta property="og:image" content="./assets/header.png">
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-9HB5QGY82J"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-9HB5QGY82J');
  </script>
</head>

<body>
  <div id="navbar"></div>
  <div class="layout">
    <div id="sidebar"></div>
    <main>
      <section>
        <h1>Diy or Buy</h1>
        <h3 id="diy-watercounter">DIY Water Counter</h3>
        <p>
          Build your own water counter using a Wemos D1 mini, an NPN sensor, and a 10K resistor. 
          The 10K resistor should be connected between the 5V and D2 pins on the Wemos D1 mini, and from D2 to the signal wire of the NPN sensor.
        </p>
        <ul>
          <li>Connect one end of the 10K resistor to the 5V pin.</li>
          <li>Connect the other end of the resistor to D2.</li>
          <li>Connect D2 to the signal wire of the NPN sensor.</li>
          <li>Connect the ground wire of the NPN sensor to GND on the Wemos D1 mini.</li>
        </ul>
        <p>
          This setup allows the Wemos D1 mini to reliably detect pulses from your water meter using the NPN sensor.
        </p>
      </section>
      <section>
        <h3 id="hardware-requirements">Hardware Requirements</h3>
        <ul>
          <li><strong>Wi-Fi:</strong> IEEE 802.11 b/g/n 2.4GHz</li>
          <li><strong>Minimum ESPHome version:</strong> 2024.12.x</li>
          <li><strong>Minimum Home Assistant version:</strong> 2025.01.x</li>
          <li style="color:#d32f2f;">Works only with Wemos D1 mini V1 or V3.0 ESP8266 at this moment.</li>
          <li style="color:#d32f2f;">You will also need a USB cable and a USB power adapter (at least 5V, 1A).</li>
        </ul>
      </section>
      <section>
        <h4>What You Need ðŸ›’</h4>
        <ul>
          <li>
            <strong>Wemos D1 Mini ESP8266:</strong>
            <a href="https://s.click.AliExpress.com/e/_9fhHxf" target="_blank">AliExpress</a> or
            <a href="https://amzn.to/3FL7O48" target="_blank">Amazon</a>
          </li>
          <li>
            <strong>NPN Sensor:</strong>
            <a href="https://s.click.aliexpress.com/e/_AVaoGr" target="_blank">AliExpress</a>,
            <a href="https://amzn.to/3DFVsaL" target="_blank">Amazon</a>, or Dutch webshop
            <a href="https://opencircuit.nl/product/lj18a3-8-z-bx-5v-nabijheids-sensor-n-o-npn-8mm?affiliate=1VL4KIAMBZ&cid=github" target="_blank">Opencircuit</a>
          </li>
          <li>
            <strong>10K Resistor:</strong>
            <a href="https://s.click.aliexpress.com/e/_A10BHz" target="_blank">AliExpress</a>,
            <a href="https://amzn.to/3NBjjx2" target="_blank">Amazon</a>, or Dutch webshop
            <a href="https://opencircuit.nl/Product/10K%CE%A9-Metaalfilm-weerstand-1-4W-10-stuks?affiliate=1VL4KIAMBZ&cid=github" target="_blank">Opencircuit</a>
          </li>
          <li><strong>USB cable and USB power adapter (at least 5V, 1A).</strong></li>
        </ul>
      </section>
      <section>
        <h4>Wiring Schematic</h4>
        <p>
          <a href="./assets/npn-watermeter-wemosd1.png" target="_blank">
            <img src="./assets/npn-watermeter-wemosd1.png" alt="S0tool DIY Wiring" style="max-width:220px; width:100%; border-radius:8px; margin:1rem auto; display:block;">
          </a>
        </p>
      </section>
      <section>
        <p>
          Unsure if your water meter is compatible? Check the list or ask in the
          <a href="https://github.com/huizebruin/s0tool/discussions/57" target="_blank">GitHub Discussion</a>.
        </p>
      </section>
      <section>
        <h3 id="buy-s0tool">How to Order the S0tool ðŸ›’</h3>
        <p>
          You can order a ready-to-use S0tool from the
          <a href="https://www.huizebruin.nl/product/s0tool/" target="_blank">Huizebruin Shop</a>.
        </p>
        <p>
          <strong>Note:</strong> When you buy a S0tool, you do <u>not</u> need to add a 10KÎ© resistor yourself. The resistor is already placed on the PCB.
        </p>
        <p>
          Currently, shipping is available to The Netherlands and Belgium only.
        </p>
      </section>
      <section>
        <h3 id="kwh-meter">kWh Meter Integration</h3>
        <p>
          The S0tool can also be used to monitor your kWh meter, allowing you to track your energy consumption in real-time and integrate it into Home Assistant for better energy management.
        </p>
        <ol>
          <li>Ensure your kWh meter has an S0 output port.</li>
          <li>
            Use a <strong>10KÎ© resistor</strong> for the S0 pulse input:
            <ul>
              <li>Connect one end of the 10KÎ© resistor to <strong>GND</strong> on the Wemos D1 mini.</li>
              <li>Connect the other end of the resistor to <strong>D5</strong>.</li>
              <li>Connect <strong>5V</strong> from the Wemos D1 mini to <strong>port 20</strong> of the S0 port.</li>
              <li>Connect <strong>D5</strong> from the Wemos D1 mini to <strong>port 21</strong> of the S0 port.</li>
            </ul>
          </li>
          <li>Configure the S0tool in ESPHome or Home Assistant to read the pulses from the kWh meter.</li>
        </ol>
        <h4>The S0 Connection</h4>
        <p>
          <img src="./assets/kwh_Meter_Pulse.jpg" alt="S0 Connection Diagram" style="max-width:220px; width:100%; border-radius:8px; margin:1rem auto; display:block;"><br>
          Example setup:<br>
          <img src="./assets/s0tool-s0-kwh-poort.jpg" alt="S0tool S0 kWh Port Setup" style="max-width:220px; width:100%; border-radius:8px; margin:1rem auto; display:block;">
        </p>
        <p>
          For more details, visit the <a href="https://github.com/huizebruin/s0tool" target="_blank">GitHub repository</a>.
        </p>
      </section>
    </main>
  </div>
  <div id="footer"></div>
  <script>
    // Navbar en sidebar includen
    fetch('navbar.html')
      .then(response => response.text())
      .then(html => document.getElementById('navbar').innerHTML = html);

    fetch('sidebar.html')
      .then(response => response.text())
      .then(html => document.getElementById('sidebar').innerHTML = html);

    fetch('footer.html')
      .then(response => response.text())
      .then(html => document.getElementById('footer').innerHTML = html);
  </script>
  <script src="./js/script.js"></script>
</body>

</html>